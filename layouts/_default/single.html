{{- define "main" -}}
  <div id="root"></div>
  <div id="modal-root"></div>
  <main id="post-container" class="blog-list-wrapper">
    {{- partial "components/headline" . -}}
    {{- partial "components/announcement" . -}}
      <div class="container">
        <section class="section" id="single-post">
        <h1 class="post--title">{{ .Params.headline | default .Title }}</h1>
        <div class="post-meta">
          <div class="post-avatar">
            {{- if .Params.AuthorAvatar -}}
            <img src="{{.Params.AuthorAvatar }}" class="post-avatar-image racker" alt="post avatar" />
            {{- else -}}
            <img src="{{ "/img/avatar-default.svg" | absURL }}" class="post-avatar-image" alt="post avatar" />
            {{- end -}}
          </div>
          <a class="post-author" href="{{ "/blog/author/"}}{{ urlize .Params.Author }}">{{ .Params.Author }}</a>
          |
          <span class="post-date">{{ dateFormat .Site.Params.dateFormat .Date.UTC }}</span>
          <div class="post-category" data-category="{{ .Section }}">
            {{- with .Params.categories -}}
            {{- $len := len . -}}
            <span>{{ range $index, $value := . }}
              <a href="{{ "/blog/categories/"}}{{ urlize $value }}" class="post--category"
                data-category="{{ $value | lower }}">
                {{ $value | humanize }}
              </a>{{ if not (eq $len ($index | add 1)) }} / {{- end -}}
              {{- end -}}</span>
            {{- end -}}
          </div>
        </div>
        <hr class="post-line"/>
          {{ .Content }}
          {{- partial "components/share-bar" . -}}
        </section>
        {{- partial "components/popular-posts" . -}}
      </div>
  </main>
    {{- with .Params.cta -}}
      {{- partial "components/cta/slide-in" . -}}
    {{- end -}}
  {{- partial "components/cta/basic" .Params.cta -}}
{{- end -}}
